<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avistamientos</title>
    <link rel="icon" type="image/svg" href="../assets/svg/buddy-30624.svg" sizes="any">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/form.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="../index.html" class="home">AVISTAMIENTOS</a></li>
            <li><a href="./form.html" class="redirect"> Informar avistamiento </a></li>
            <li><a href="./reports.html" class="redirect"> Ver listado de avistamientos</a></li>
            <li><a href="./statistics.html" class="redirect"> Estadísticas </a></li>
        </ul>
    </nav>
    <div class="card">
        <h3>Formulario para registro de avistamientos</h3>
        <form action="../cgi-bin/save_report.py" enctype="multipart/form-data" method="POST" name="formReport" id="formReport" onsubmit="return validateForm()">
            <!-- LUGAR -->
            <div class="form-section">
                <p><b>Lugar:</b></p>
                <div class="row">
                    <div class="col-25">
                        <p>Región:</p>
                    </div>
                    <div class="col-75">
                        <select name="region" required>
                            <option value="" disabled selected>Selecciona un región</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-25">
                        <p>Comuna:</p>
                    </div>
                    <div class="col-75">
                        <select name="comuna" required>
                            <option value="" disabled selected>Selecciona una comuna</option>
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-25">
                        <p>Sector:</p>
                    </div>
                    <div class="col-75">
                        <input type="text" name="sector" size="200" maxlength="100"
                        onkeyup="validateSector()">
                    </div>
                </div>
            </div> <!-- LUGAR -->

            <!-- CONTACTO -->
            <div class="form-section">
                <p><b>Datos de contacto:</b></p>
                <div class="row">
                    <div class="col-25">
                        <p>Nombre:</p>
                    </div>
                    <div class="col-75">
                        <input type="text" name="nombre" placeholder="Juan Perez" 
                        size="100" maxlength="200" onkeyup="validateName()"
                        required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-25">
                        <p>Email:</p>
                    </div>
                    <div class="col-75">
                        <input type="email" name="email" placeholder="example@mail.cl"
                        size="100" onkeyup="validateMail()" required>
                    </div>
                </div>
                <div class="row">
                    <div class="col-25">
                        <p>N° de celular</p>
                    </div>
                    <div class="col-75">
                        <input type="text" name="celular" size="15" placeholder="+56964669029"
                        onkeyup="validatePhone()">      
                    </div>
                </div>
            </div> <!-- CONTACTO -->

            <!-- INFO AVISTAMIENTO -->
            <div class="form-section" id="reports">
                <div class="report" id="report-0">
                    <p><b>Información de avistamiento n°1:</b></p>
                    <div class="row">
                        <div class="col-25">
                            <p>Día hora:</p>
                        </div>
                        <div class="col-75">
                            <input type="text" name="dia-hora-avistamiento-0" class="dia-hora-avistamiento"
                            onkeyup="validateDate(0)" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-25">
                            <p>Tipo</p>
                        </div>
                        <div class="col-75">
                            <select name="tipo-avistamiento-0" class="tipo-avistamiento" required>
                                <option value="" disabled selected >Selecciona un tipo</option>
                                <option value="no sé">No sé</option>
                                <option value="insecto">Insecto</option>
                                <option value="arácnido">Arácnido</option>
                                <option value="miriápodo">Miriápodo</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-25">
                            <p>Estado</p>
                        </div>
                        <div class="col-75">
                            <select name="estado-avistamiento-0" class="estado-avistamiento" required>
                                <option value="" disabled selected>Selecciona un estado</option>
                                <option value="no sé">No sé</option>
                                <option value="vivo">Vivo</option>
                                <option value="muerto">Muerto</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-25">
                            <p>Foto:</p>
                        </div>
                        <div class="col-75" id="file-input-list-0">
                            <div class="file-input-div">
                                <label class="file-upload">
                                    <span class="file-input-text">Subir foto</span>
                                    <input type="file" name="foto-avistamiento-0" id="foto-avistamiento-0-0" accept="image/*"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              onchange="showFiles(this.id)">
                                </label>
                                <button type="button" class="new-file" id="button-avistamiento-0" onclick="addFileInput(this.id)">Agregar otra foto</button>
                            </div>
                        </div>
                    </div>
                </div>  
            </div> <!-- INFO AVISTAMIENTO -->

            <div class="form-button" id="opened-form-buttons">
                <button type="button" class="btn btn-white" onclick="newReport()"><b>Informar otro avistamiento en este sector</b></button>
                <button type="button" class="btn" onclick="openConfirmation()"><b>Enviar información de avistamiento</b></button>
            </div>

            <div id="closed-confirmation-div">
                <h3>¿Está seguro que desea envíar esta información?</h3>
                <div class="form-button">
                    <button type="button" class="btn" onclick="confirmate()"><b>Sí, estoy total y absolutamente seguro</b></button>
                    <button type="button" class="btn btn-white" onclick="backToForm()"><b>No estoy seguro, volver al formulario</b></button>
                </div>
            </div>

            <div id="closed-sent">
                <h3>¡Hemos recibido su información, muchas gracias por colaborar!</h3>
                <div class="form-button">
                    <div class="btn"><a href="../index.html"><b>Volver a la portada</b></a></div>
                </div>
            </div>

        </form>
    </div>
    <script src="../assets/js/form_region_comuna_select.js"></script> 
    <script src="../assets/js/form_validators.js"></script>
    <script src="../assets/js/form_file_input.js"></script>
    <script src="../assets/js/form_new_report.js"></script>
    <script src="../assets/js/form_steps.js"></script>
</body>
</html>